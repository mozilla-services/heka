.. _config_docker_event_input:

Docker Event Input
==================

.. versionadded:: 0.10.0

Plugin Name: **DockerEventInput**

The DockerEventInput plugin connects to the Docker daemon and watches the
Docker events API, sending all events to the Heka pipeline. See:
`Docker Events API <https://docs.docker.com/reference/api/docker_remote_api_v1.18/#monitor-dockers-events>`_
Messages will be populated as follows:

- Uuid: Type 4 (random) UUID generated by Heka.
- Timestamp: Time when the event was received by the plugin.
- Type: `DockerEvent`.
- Hostname: Hostname of the machine on which Heka is running.
- Payload: The event id, status, from and time. Example:
  - `id:47e08ded0abb57ca263136291f14ed7689de8b6ec519f01ea76958fe512abff9 status:create from:gliderlabs/alpine:3.1 time:1429555298`
- Logger: The id provided in the event
- Fields["ID"] (string): The ID provided in the docker event.
- Fields["Status"] (string): The Status in the docker event.
- Fields["From"] (string): The From in the docker event.
- Fields["Time"] (string): The timestamp in the docker event.

Config:

- endpoint (string):
    A Docker endpoint. Defaults to "unix:///var/run/docker.sock".
- cert_path (string, optional):
    Path to directory containing client certificate and keys. This value works
    in the same way as `DOCKER_CERT_PATH <https://docs.docker.com/articles/https/#client-modes>`_.

Example:

.. code-block:: ini

  [DockerEventInput]
  type = "DockerEventInput"

  [PayloadEncoder]
  append_newlines = false

  [LogOutput]
  type = "LogOutput"
  message_matcher = "Type == 'DockerEvent'"
  encoder = "PayloadEncoder"
